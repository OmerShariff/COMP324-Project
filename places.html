<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>home</title>

   <!-- swiper css link  -->
   <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

   <link rel="stylesheet" href="placesStyle.css">
	<script src="SearchFunctionality.js" ></script>

</head>
<body>
<!-- header section starts  -->

<section class="header">

    <a href="home.html" class="logo">TripJoy.</a>
 
    <nav class="navbar">
       <a href="home.html">home</a>
       <a href="about.html">about</a>
       <a href="package.html">package</a>
       <a href="book.html">book</a>
    </nav>
 
    <div id="menu-btn" class="fas fa-bars"></div>
 
 </section>
 
 <!-- header section ends -->

 <center><h1 id="headName"></h1>
    <hr>
    <br>
    
    <div class="row">
        <div class="column">
            <div class="card" id="card1">
                <h1 class="title">Loading...</h1>
            <p class="description"> </p>
            <br>
            <img class="image" src="" alt="">
                <div id="location1"> </div>
                <button type="favorite" value="favorite">♡</button>

            </div>
        </div>
        <br>
        <br>
        <div class="column">
            <div class="card" id="card2">
           <h1 class="title">Loading...</h1>
            <p class="description"></p>
            <img class="image" src="" alt="">
            
                <div id="location2"></div>
                <button type="favorite" value="favorite">♡</button>

            </div>
        </div>
        <br>
        <div class="column">
            <div class="card" id="card3">
                <h1 class="title">Loading...</h1>
                <p class="description"></p>
                <img class="image" src="" alt="">
                <div id="location3"></div>
                <button type="favorite" value="favorite">♡</button>

            </div>
        </div>
        <div class="column">
            <div class="card" id="card4">
            <h1 class="title">Loading...</h1>
            <p class="description"></p>
            <img class="image" src="" alt="">
                <div id="location4"></div>
                <button type="favorite" value="favorite">♡</button>
            </div>
        </div>
    </div>

    <script>
		window.addEventListener('DOMContentLoaded', () => {
			const nameOfPlace = localStorage.getItem('placeName').toString();
			const heading = document.getElementById('headName');
			heading.textContent = nameOfPlace.toString();
			showData();
		
		});
		
		function showData(){
			const data = JSON.parse(localStorage.getItem('apiData'));
			data.forEach((place, index) => {
				const card = document.getElementById(`card${index + 1}`);
				card.style.visibility ='visible';
				//update the image
			const image = card.querySelector('.image');
			image.src = place.photo.images.small.url;
			image.alt = place.name;
				// update the title
				const title = card.querySelector('.title');
				title.textContent = place.name;
				const description = card.querySelector('.description');
			description.textContent = place.description;
				const location = card.querySelector('.location');
				const mapLink = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.address.toString())}`;
				const linkElement = document.createElement("a");
                linkElement.href = mapLink;
                linkElement.target = "_blank";
                linkElement.innerText = place.address;
                linkElement.onclick = () => {
                   window.open(mapLink, "_blank");
                  return false;
      };
      
      document.getElementById(`location${index + 1}`).appendChild(linkElement);
			  // location.textContent = place.address;
			});
		}
		</script>


 <div class="search-bar-container">
    <div class="search-form">
      <input type="text" id="place" placeholder="Search...">
      <button type="submit" id="search" onclick="searchPlace()">Search</button>
    </div>
  </div>

<br>

<!-- footer section starts  -->

<section class="footer">

    <div class="box-container">
 
       <div class="box">
          <h3>quick links</h3>
          <a href="home.html"> <i class="fas fa-angle-right"></i> home</a>
          <a href="about.html"> <i class="fas fa-angle-right"></i> about</a>
          <a href="package.html"> <i class="fas fa-angle-right"></i> package</a>
          <a href="book.html"> <i class="fas fa-angle-right"></i> book</a>
       </div>
 
       <div class="box">
          <h3>extra links</h3>
          <a href="#"> <i class="fas fa-angle-right"></i> ask questions</a>
          <a href="#"> <i class="fas fa-angle-right"></i> about us</a>
          <a href="#"> <i class="fas fa-angle-right"></i> privacy policy</a>
          <a href="#"> <i class="fas fa-angle-right"></i> terms of use</a>
       </div>
 
       <div class="box">
          <h3>contact info</h3>
          <a href="#"> <i class="fas fa-phone"></i> +123-456-7890 </a>
          <a href="#"> <i class="fas fa-phone"></i> +111-222-3333 </a>
          <a href="#"> <i class="fas fa-envelope"></i> TripJoy@gmail.com </a>
          <a href="#"> <i class="fas fa-map"></i> Chicago, United States </a>
       </div>
 
       <div class="box">
          <h3>follow us</h3>
          <a href="#"> <i class="fab fa-facebook-f"></i> facebook </a>
          <a href="#"> <i class="fab fa-twitter"></i> twitter </a>
          <a href="#"> <i class="fab fa-instagram"></i> instagram </a>
          <a href="#"> <i class="fab fa-linkedin"></i> linkedin </a>
       </div>
 
    </div>
 
    
 
 </section>
 
 <!-- footer section ends -->

 <!-- swiper js link  -->
<script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>

<!-- custom js file link  -->
<script src="js/script.js"></script>

</body>
</html>